@startuml

package "Data Layer" {
    [MessageModel]
    [TaskModel]
    [ChatDataProvider]
    [TaskDataProvider]
    [ChatRepositoryImpl]
    [TaskRepositoryImpl]
}

package "Domain Layer" {
    [ChatRepository]
    [TaskRepository]
    [SendMessage]
    [SendImage]
    [FetchLesson]
    [FetchTasks]
    [SubmitAnswers]
    [Message]
    [Task]
    [TaskType]
    [MessageType]
}

package "Presentation Layer" {
    [ChatBloc]
    [TaskBloc]
    [LawChatScreen]
    [GermanChatScreen]
    [SettingsScreen]
    [TaskSequenceScreen]
    [MainMenuScreen]
    [QuestionListScreen]
}

[ChatRepositoryImpl] <|-- [ChatRepository]
[TaskRepositoryImpl] <|-- [TaskRepository]

[ChatRepository] --> [SendMessage]
[ChatRepository] --> [SendImage]
[ChatRepository] --> [FetchLesson]
[ChatRepository] --> [FetchTasks]
[TaskRepository] --> [SubmitAnswers]

[SendMessage] --> [ChatBloc]
[SendImage] --> [ChatBloc]
[FetchLesson] --> [ChatBloc]
[FetchTasks] --> [ChatBloc]
[SubmitAnswers] --> [TaskBloc]

[ChatDataProvider] --> [ChatRepositoryImpl]
[TaskDataProvider] --> [TaskRepositoryImpl]

[MessageType] --> [MessageModel]
[MessageType] --> [Message]
[TaskType] --> [TaskModel]
[TaskType] --> [Task]

[ChatBloc] --> [LawChatScreen]
[ChatBloc] --> [GermanChatScreen]
[ChatBloc] --> [QuestionListScreen]
[TaskBloc] --> [GermanChatScreen]
[TaskBloc] --> [TaskSequenceScreen]

@enduml